(()=>{"use strict";const t=document.querySelector(".app__text"),e=document.querySelector(".options__time");let n,s=0,o=0,r=0,c=0;function l(){s++,o++,o>=60&&(o=0,r++,r>=60&&(r=0,c++)),e.textContent=(c>9?c:"0"+c)+":"+(r>9?r:"0"+r)+":"+(o>9?o:"0"+o),a()}function a(){n=setTimeout(l,1e3)}!async function(l){await async function(){let e=await fetch("https://baconipsum.com/api/?type=all-meat&paras=1&start-with-lorem=1");if(e.ok){let n=await e.json(),s=[];return n.forEach((t=>{let e=t.split("");for(let t=0;t<e.length;t++)s.push(`<span class="letter_black">${e[t]}</span>`)})),t.innerHTML=s.join(""),!0}alert("Проблемы с получением данных!")}();let i,u=0,d=0;const _=document.querySelector(".page__start"),f=_.querySelector(".start__btn"),m=document.querySelector(".options__accuracy");f.addEventListener("click",(function(){document.querySelectorAll(".letter_black").forEach((t=>{t.classList.remove("letter_red"),t.classList.remove("letter_focus"),t.classList.remove("letter_focus-err")})),u=0,d=0,s=0,o=0,r=0,c=0,m.textContent="100%",_.classList.add("none"),a(),document.addEventListener("keydown",(t=>{!function(t){const o=document.querySelectorAll(".letter_black");o[u].classList.add("letter_focus"),u===o.length?(clearTimeout(n),_.classList.remove("none"),_.innerHTML=`\n                <div>Ваше время: ${e.textContent}</div><br>\n                <div>Ваша точность: ${m.textContent}</div><br>\n                <div>Ваша скороксть: ${(o.length/s).toFixed(2)} символов в секунду</div><br>\n            `):o[u].textContent===t.key&&"Shift"!==t.key?(o[u].classList.remove("letter_focus-err"),o[u+1].classList.add("letter_focus"),o[u].classList.remove("letter_focus"),o[u].classList.add("letter_red"),u++):"Shift"===t.key?console.log("Shift"):i!==u&&(i=u,d++,m.textContent=(100-100/o.length*d).toFixed(2)+"%",o[u].classList.add("letter_focus-err"))}(t)}))}))}()})();